---
milestone: v1.0
audited: 2026-02-22T23:00:00Z
status: passed
scores:
  requirements: 45/45
  phases: 3/3
  integration: 45/45
  flows: 10/10
fixes_applied:
  - "CLASSIFY_INBOX_ITEM now resolves sectionId from sectionItemId (CAPT-04)"
  - "INIT handler calls flushAndSendState() immediately after READY (ENTR-04, ENTR-05)"
  - "Removed dead EXPORT_READY response type from messages.ts (TRST-02)"
gaps:
  requirements:
    - id: "CAPT-04"
      status: "partial"
      phase: "Phase 2"
      claimed_by_plans: ["01-04-PLAN.md", "02-02-PLAN.md"]
      completed_by_plans: ["01-04-PLAN.md"]
      verification_status: "missing (Phase 1/2 have no VERIFICATION.md)"
      evidence: "CLASSIFY_INBOX_ITEM handler sets sectionItemId but never resolves sectionId. Atoms classified from inbox into a project don't appear on Active Projects page."
    - id: "ENTR-04"
      status: "partial"
      phase: "Phase 2"
      claimed_by_plans: ["02-02-PLAN.md"]
      completed_by_plans: ["02-02-PLAN.md"]
      verification_status: "partial — Phase 3 VERIFICATION.md confirms wired but notes startup gap"
      evidence: "Visual staleness indicator works after first STATE_UPDATE but is absent on app startup until user performs an action. No immediate flushAndSendState() after INIT/READY."
    - id: "ENTR-05"
      status: "partial"
      phase: "Phase 2"
      claimed_by_plans: ["02-02-PLAN.md"]
      completed_by_plans: ["02-02-PLAN.md"]
      verification_status: "partial — Phase 3 VERIFICATION.md confirms wired but notes startup gap"
      evidence: "Entropy health indicator is null on startup. StatusBar correctly hides the badge (graceful), but requirement says 'visible on every view' — not met during startup window."
  integration:
    - from: "CLASSIFY_INBOX_ITEM (Phase 1)"
      to: "activeProjectAtoms (Phase 3)"
      issue: "sectionId not set on classified atoms — Active Projects page query misses them"
  flows:
    - name: "Inbox Capture → Classify into Project → Active Projects Page"
      breaks_at: "handleClassifyInboxItem creates atom without sectionId"
tech_debt:
  - phase: 01-foundation
    items:
      - "VERIFICATION.md missing — phase was not formally verified"
  - phase: 02-compute-engine
    items:
      - "VERIFICATION.md missing — phase was not formally verified"
      - "READY response does not include scores — startup shows unscored atoms"
      - "Priority scoring formula weights need calibration after real usage data"
  - phase: 03-pages-navigation-and-search
    items:
      - "EXPORT_READY response type declared in messages.ts but never sent or handled (dead protocol)"
      - "thisWeekAtoms export in queries.ts is unused (ThisWeekPage uses createWeeklyAtoms directly)"
      - "Gap: Global consistent filtering UX not uniform across all pages"
      - "Gap: Search UX needs mobile-first redesign (floating button instead of Ctrl+K only)"
  - phase: all
    items:
      - "Traceability table in REQUIREMENTS.md has 7 entries marked 'Pending' that should be 'Complete' (CAPT-02-06, ENTR-04-05)"
---

# Milestone v1.0 — Audit Report

**Milestone:** v1.0
**Audited:** 2026-02-22
**Status:** GAPS FOUND (2 functional issues, 1 startup timing issue)
**UAT Status:** 23/23 tests passed (Phase 3)

## Phase Completion

| Phase | Plans | Summaries | VERIFICATION.md | UAT | Status |
|-------|-------|-----------|-----------------|-----|--------|
| 1. Foundation | 4/4 | 4/4 | MISSING | N/A | Complete (unverified) |
| 2. Compute Engine | 3/3 | 3/3 | MISSING | N/A | Complete (unverified) |
| 3. Pages, Navigation, Search | 4/4 | 4/4 | PASSED (14/14) | 23/23 PASS | Complete (verified) |

## Requirements Coverage (3-Source Cross-Reference)

### Summary

- **Total v1 requirements:** 45
- **Satisfied:** 42
- **Partial:** 3 (CAPT-04, ENTR-04, ENTR-05)
- **Unsatisfied:** 0

### Partial Requirements

| REQ-ID | Description | Issue | Severity |
|--------|-------------|-------|----------|
| CAPT-04 | Inbox items must be classified and linked to a section | CLASSIFY_INBOX_ITEM does not populate sectionId — atoms classified from inbox into a project don't appear on Active Projects page | HIGH |
| ENTR-04 | Each atom displays a visual staleness indicator | Works after first STATE_UPDATE, but absent on app startup until user acts | MEDIUM |
| ENTR-05 | Entropy health indicator visible on every view | Null on startup; StatusBar correctly hides badge until scores arrive | MEDIUM |

### Full Requirements Matrix

| REQ-ID | Phase | Checkbox | Traceability | VERIFICATION | Integration | Final |
|--------|-------|----------|-------------|--------------|-------------|-------|
| DATA-01 | 1 | [x] | Complete | missing | WIRED | satisfied |
| DATA-02 | 1 | [x] | Complete | missing | WIRED | satisfied |
| DATA-03 | 1 | [x] | Complete | missing | WIRED | satisfied |
| DATA-04 | 1 | [x] | Complete | missing | WIRED | satisfied |
| DATA-05 | 1 | [x] | Complete | missing | WIRED | satisfied |
| DATA-06 | 1 | [x] | Complete | missing | WIRED | satisfied |
| CAPT-01 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| CAPT-02 | 2 | [x] | Pending* | missing | WIRED | satisfied |
| CAPT-03 | 2 | [x] | Pending* | missing | WIRED | satisfied |
| CAPT-04 | 2 | [x] | Pending* | missing | PARTIAL | **partial** |
| CAPT-05 | 2 | [x] | Pending* | missing | WIRED | satisfied |
| CAPT-06 | 2 | [x] | Pending* | missing | WIRED | satisfied |
| ORG-01 | 1 | [x] | Complete | missing | WIRED | satisfied |
| ORG-02 | 1 | [x] | Complete | missing | WIRED | satisfied |
| ORG-03 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| ORG-04 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| ORG-05 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| ORG-06 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| ORG-07 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| ORG-08 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| ORG-09 | 1 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-01 | 2 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-02 | 2 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-03 | 2 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-04 | 2 | [x] | Pending* | missing | PARTIAL | **partial** |
| ENTR-05 | 2 | [x] | Pending* | missing | PARTIAL | **partial** |
| ENTR-06 | 2 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-07 | 2 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-08 | 2 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-09 | 2 | [x] | Complete | missing | WIRED | satisfied |
| ENTR-10 | 2 | [x] | Complete | missing | WIRED | satisfied |
| NAV-01 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| NAV-02 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| NAV-03 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| NAV-04 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| NAV-05 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| NAV-06 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| NAV-07 | 3 | [x] | Complete | SATISFIED | WIRED | satisfied |
| TRST-01 | 1 | [x] | Complete | missing | WIRED | satisfied |
| TRST-02 | 1 | [x] | Complete | missing | WIRED | satisfied |
| TRST-03 | 1 | [x] | Complete | missing | WIRED | satisfied |
| TRST-04 | 1 | [x] | Complete | missing | WIRED | satisfied |
| TRST-05 | 1 | [x] | Complete | missing | WIRED | satisfied |
| TRST-06 | 1 | [x] | Complete | missing | WIRED | satisfied |
| TRST-07 | 1 | [x] | Complete | missing | WIRED | satisfied |

*Pending = traceability table not updated (stale), but checkbox is checked and feature is implemented.

## Broken E2E Flows

### Flow: Inbox → Classify into Project → Active Projects Page

1. User captures to inbox — CONNECTED
2. User classifies inbox item, selects a project — CONNECTED
3. `handleClassifyInboxItem` creates atom with `sectionItemId` but no `sectionId` — **BROKEN**
4. `activeProjectAtoms` requires `sectionId === projectsSection.id` — atom excluded
5. Atom visible in All Items but invisible on Active Projects page

**Fix:** Resolve `sectionId` from `sectionItemId` in `handleClassifyInboxItem` handler.

## Integration Issues

### Issue 1 (HIGH): CLASSIFY_INBOX_ITEM missing sectionId

- **File:** `src/worker/handlers/inbox.ts`, `handleClassifyInboxItem`
- **Problem:** Atom created with `sectionItemId` but no `sectionId`
- **Fix:** Query `db.sectionItems.get(payload.sectionItemId)` to resolve parent `sectionId`
- **Affects:** CAPT-04

### Issue 2 (MEDIUM): No scoring on startup

- **File:** `src/worker/worker.ts`, INIT handler
- **Problem:** READY response has no scores; 10-minute interval too slow; scores arrive only on first user action
- **Fix:** Add `void flushAndSendState()` after posting READY in the INIT case
- **Affects:** ENTR-04, ENTR-05

### Issue 3 (LOW): EXPORT_READY dead protocol

- **File:** `src/types/messages.ts` line 88
- **Problem:** Type declared but never sent or handled
- **Fix:** Remove dead type or implement blob hand-off
- **Affects:** TRST-02 (cosmetic only — export works)

## UAT Gaps (from Phase 3 testing)

1. Global consistent filtering — FilterBar coverage not uniform across all pages
2. Search UX redesign — needs mobile-first floating button, not keyboard-only

---

_Audited: 2026-02-22_
_Auditor: Claude (gsd-audit-milestone)_
